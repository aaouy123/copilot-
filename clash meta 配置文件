mode: rule
mixed-port: 10801
allow-lan: false
log-level: info
ipv6: true
secret: ''
external-controller: 127.0.0.1:9090
find-process-mode: strict # å¯é€‰ è¿›ç¨‹æ¨¡å¼ off/strict/always ï¼ˆå…³é—­/è‡ªé€‚åº”/å¼ºåˆ¶å¼€å¯ï¼‰
unified-delay: false
tcp-concurrent: true
keep-alive-interval: 30
global-client-fingerprint: chrome

profile:
  store-selected: true
  store-fake-ip: true
  
geox-url:
  geoip: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.moeyy.xyz/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://mirror.ghproxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"
  asn: "https://raw.githubusercontent.com/xishang0128/geoip/release/GeoLite2-ASN.mmdb"
geodata-mode: true
geodata-loader: memconservative # å¯é€‰ standard/memconservative æ ‡å‡†åŠ è½½å™¨/ä½å†…å­˜è®¾å¤‡ä¼˜åŒ–åŠ è½½å™¨
geo-auto-update: true
geo-update-interval: 24
global-ua: clash.meta

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  strict-route: false
  
dns:
  enable: true
  cache-algorithm: arc # ç¼“å­˜ç®—æ³• lru/lfu/arc ç¼“å­˜å°‘é‡å¸¸ç”¨/ä¸å¸¸ç”¨/è‡ªé€‚åº”
  prefer-h3: false 
  use-hosts: true
  use-system-hosts: true
  respect-rules: true
  listen: 0.0.0.0:1053
  ipv6: true
  enhanced-mode: fake-ip # DNS å¤„ç†æ¨¡å¼ normal/fake-ip/redir-host æ— ç‰¹åˆ«éœ€æ±‚/è™šæ‹ŸIP/çœŸå®IP
  fake-ip-range: 198.18.0.1/15
  fake-ip-filter-mode: blacklist #å¯é€‰ fake-ipè¿‡æ»¤å™¨ å¤„ç†æ¨¡å¼ blacklist/whitelistï¼ˆé»‘åå•/ç™½åå•ï¼‰
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
    - "geosite:cn,private"
    # Google FCM æœåŠ¡å™¨
    - "geosite:googlefcm"
  default-nameserver:
    - 223.5.5.5
    - 120.53.53.53
  nameserver-policy:
    "geosite:googlefcm":
      - "https://223.5.5.5/dns-query"
    "geosite:cn,private":
      - "https://223.6.6.6/dns-query"
      - "https://120.53.53.53/dns-query"
    "geosite:gfw,geolocation-!cn":
      - "https://dns.cloudflare.com/dns-query"
      - "https://dns.google/dns-query"
  nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query
  proxy-server-nameserver:
    - https://223.6.6.6/dns-query
    - https://120.53.53.53/dns-query
  direct-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  direct-nameserver-follow-policy: false
  
hosts:
  time.android.com: 203.107.6.88
  time.facebook.com: 203.107.6.88
  localhost: 127.0.0.1
      
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    TLS:
      ports:
      - 443
      - 5228
      - 8443
    HTTP:
      ports:
      - 80
      - 8080-8880
      override-destination: true
    QUIC:
      ports:
      - 443
      - 5228
      - 8443
  force-domain:
    - "+.v2ex.com"
    # Google FCM æœåŠ¡å™¨
    - "geosite:googlefcm"
    - "google.com"
  skip-domain:
    - "Mijia Cloud"
    - "dlg.io.mi.com"
    - "+.apple.com"  
    
        
proxies:
  - {name: "dns-out", type: dns, udp: true}
        
p: &p
  {type: http, interval: 86400, health-check: {enable: true, url: https://www.gstatic.com/generate_204, interval: 600, timeout: 5000, lazy:true, expected-status: 204}}  
u: &u
  use:
  # - 0.æ ¼å¼æ¨¡æ¿
  - 1.provider
  - 2.provider
proxy-providers:
#<<<<<<<<<<<<<<<<<
  # 0.æ ¼å¼æ¨¡æ¿:
  #   <<: *p  
  #   url: "http://1.1.1.1" (è®¢é˜…åœ°å€-æœ¬åœ°æ–‡ä»¶å¯å¿½ç•¥)
  #   path: ./proxy_providers/provider_subscribe3.yaml  (å¯çµæ´»å˜æ›´-ä¸å¯å†²çª)
  1.provider:
    <<: *p
    url: ""
    path: ./proxy_providers/provider_subscribe1.yaml
  2.provider:
    <<: *p
    url: ""
    path: ./proxy_providers/provider_subscribe2.yaml
    #æ³¨æ„ï¼å¦‚æœæ‚¨çš„è®¢é˜…é“¾æ¥ä¸­å¸¦æœ‰â€œ&â€å­—ç¬¦ï¼Œè¯·åˆ æ‰.
    
#>>>>>>>>>>>>>>>>>
##### ä»£ç†ç»„
proxy-groups:
  - {name: ğŸŒŸ æ€»æ¨¡å¼, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ğŸª è‡ªåŠ¨åˆ‡æ¢,ğŸŒ å…¨çƒç›´è¿], <<: *u}
  - {name: ğŸª è‡ªåŠ¨åˆ‡æ¢, <<: *u, tolerance: 2, type: url-test, filter: "(?i)^(?!.*emby).*"}
  - {name: â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿], <<: *u}
  - {name: ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿], <<: *u}
  - {name: ğŸ¤– AI, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ“² Telegram, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ¦ YouTube, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ¿ Netflix, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ§‹ Bilibili, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾]}
  - {name: ğŸ¨ EMBY, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº], <<: *u, filter: "(?i)emby|plex|media"}
  - {name: ğŸ“¸ TikTok, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: âœˆï¸ Twitter, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ“¢ Google, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: â“‚ï¸ Microsoft, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ Apple, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ® Discord, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸŒ å…¨çƒç›´è¿,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - {name: ğŸ§­ Virtual Location, type: select, proxies: [ğŸŒ å…¨çƒç›´è¿,ğŸŒŸ æ€»æ¨¡å¼,ğŸª è‡ªåŠ¨åˆ‡æ¢,â˜€ï¸ æ‰‹åŠ¨åˆ‡æ¢1,ğŸŒ™ æ‰‹åŠ¨åˆ‡æ¢2,ğŸ‡­ğŸ‡° é¦™æ¸¯,ğŸ‡¨ğŸ‡³ å°æ¹¾,ğŸ‡¯ğŸ‡µ æ—¥æœ¬,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡,ğŸ‡ºğŸ‡¸ ç¾å›½,ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº]}
  - { name: ğŸ“Ÿ WebRTC, type: select, proxies: [ REJECT, REJECT-DROP, PASS ]}
  - {name: ğŸ›‘ éšç§æ‹¦æˆª, type: select, proxies: [REJECT,REJECT-DROP,PASS,ğŸŒŸ æ€»æ¨¡å¼,ğŸŒ å…¨çƒç›´è¿]}
  - {name: ğŸ‹ æ¼ç½‘ä¹‹é±¼, type: select, proxies: [ğŸŒŸ æ€»æ¨¡å¼,ğŸŒ å…¨çƒç›´è¿]}
  - {name: ğŸŒ å…¨çƒç›´è¿, type: select, proxies: [DIRECT]}
  
  # åˆ†éš”ï¼Œä¸‹é¢æ˜¯åœ°åŒºåˆ†ç»„
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯, type: select, proxies: [é¦™æ¸¯å»¶æ—¶é€‰ä¼˜ç»„, é¦™æ¸¯æ•…éšœè½¬ç§»ç»„]}
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾, type: select, proxies: [å°æ¹¾å»¶æ—¶é€‰ä¼˜ç»„, å°æ¹¾æ•…éšœè½¬ç§»ç»„]}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬, type: select, proxies: [æ—¥æœ¬å»¶æ—¶é€‰ä¼˜ç»„, æ—¥æœ¬æ•…éšœè½¬ç§»ç»„]}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, type: select, proxies: [æ–°åŠ å¡å»¶æ—¶é€‰ä¼˜ç»„, æ–°åŠ å¡æ•…éšœè½¬ç§»ç»„]}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½, type: select, proxies: [ç¾å›½å»¶æ—¶é€‰ä¼˜ç»„, ç¾å›½æ•…éšœè½¬ç§»ç»„]}
  - {name: ğŸ‡ºğŸ‡³ å…¶å®ƒåœ°åŒº, type: select, include-all-providers: true, filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates|emby)).*|.*(?:æ¾³å¤§åˆ©äºš|australia)"}
     
  # éšè— å»¶æ—¶é€‰ä¼˜ç»„
  - {name: é¦™æ¸¯å»¶æ—¶é€‰ä¼˜ç»„, type: url-test, include-all-providers: true, interval: 600, tolerance: 5, lazy: true, hidden: true, filter: "(?i)(?=.*(?:æ¸¯|hk|hongkong|hong\\s+kong))(?!.*(?:emby.*hk|hk.*emby))"}
  - {name: å°æ¹¾å»¶æ—¶é€‰ä¼˜ç»„, type: url-test, include-all-providers: true, interval: 600, tolerance: 5, lazy: true, hidden: true, filter: "(?i)å°|tw|taiwan"}
  - {name: æ—¥æœ¬å»¶æ—¶é€‰ä¼˜ç»„, type: url-test, include-all-providers: true, interval: 600, tolerance: 5, lazy: true, hidden: true, filter: "(?i)æ—¥|jp|japan"}
  - {name: æ–°åŠ å¡å»¶æ—¶é€‰ä¼˜ç»„, type: url-test, include-all-providers: true, interval: 600, tolerance: 5, lazy: true, hidden: true, filter: "(?i)(æ–°|sg|singapore)"}
  - {name: ç¾å›½å»¶æ—¶é€‰ä¼˜ç»„, type: url-test, include-all-providers: true, interval: 600, tolerance: 5, lazy: true, hidden: true, filter: "(?i)(?=.*(?:ç¾|\\bus\\b|united\\s*states))(?!.*(?:æ¾³å¤§åˆ©äºš|australia))"}
    
  # éšè— æ•…éšœè½¬ç§»ç»„
  - {name: é¦™æ¸¯æ•…éšœè½¬ç§»ç»„, type: fallback, include-all-providers: true, interval: 600, tolerance: 5, timeout: 2000, lazy: true, hidden: true, filter: "(?i)(?=.*(?:æ¸¯|hk|hongkong|hong\\s+kong))(?!.*(?:emby.*hk|hk.*emby))"}
  - {name: å°æ¹¾æ•…éšœè½¬ç§»ç»„, type: fallback, include-all-providers: true, interval: 600, tolerance: 5, timeout: 2000, lazy: true, hidden: true, filter: "(?i)å°|tw|taiwan"}
  - {name: æ—¥æœ¬æ•…éšœè½¬ç§»ç»„, type: fallback, include-all-providers: true, interval: 600, tolerance: 5, timeout: 2000, lazy: true, hidden: true, filter: "(?i)æ—¥|jp|japan"}
  - {name: æ–°åŠ å¡æ•…éšœè½¬ç§»ç»„, type: fallback, include-all-providers: true, interval: 600, tolerance: 5, timeout: 2000, lazy: true, hidden: true, filter: "(?i)(æ–°|sg|singapore)"}
  - {name: ç¾å›½æ•…éšœè½¬ç§»ç»„, type: fallback, include-all-providers: true, interval: 600, tolerance: 5, timeout: 2000, lazy: true, hidden: true, filter: "(?i)(?=.*(?:ç¾|\\bus\\b|united\\s*states))(?!.*(?:æ¾³å¤§åˆ©äºš|australia))"}
  
rule-providers-anchor: 
  rule_domain: &rule_domain {type: http, interval: 86400, behavior: domain}
  rule_ipcidr: &rule_ipcidr {type: http, interval: 86400, behavior: ipcidr}
  rule_classical: &rule_classical {type: http, interval: 86400, behavior: classical}
     
rule-providers:
  Telegram:
    <<: *rule_classical
    format: yaml
    path: ./rule/Telegram.yaml
    url: "https://raw.githubusercontent.com/MoGuangYu/rules/main/Home/Telegram.yaml"
  Youtube:
    <<: *rule_classical
    format: yaml
    path: ./rule/Youtube.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
  Google:
    <<: *rule_classical
    format: yaml
    path: ./rule/Google.yaml
    url: "https://raw.githubusercontent.com/MoGuangYu/rules/main/Home/Google.yaml"
  Microsoft:
    <<: *rule_classical
    format: yaml
    path: ./rule/Microsoft.yaml
    url: "https://raw.githubusercontent.com/MoGuangYu/rules/main/Home/Microsoft.yaml"
  Apple:
    <<: *rule_classical
    format: yaml
    path: ./rule/Apple.yaml
    url: "https://raw.githubusercontent.com/MoGuangYu/rules/main/Home/Apple.yaml"
  Netflix:
    <<: *rule_classical
    format: yaml
    path: ./rule/Netflix.yaml
    url: "https://raw.githubusercontent.com/MoGuangYu/rules/main/Home/Netflix.yaml"
  Discord:
    <<: *rule_classical
    format: yaml
    path: ./rule/Discord.yaml
    url: "https://raw.githubusercontent.com/MoGuangYu/rules/main/Home/Discord.yaml"
  BiliBili:
    <<: *rule_classical
    format: yaml
    path: ./rule/BiliBili.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
  EMBY:
    <<: *rule_classical
    format: yaml
    path: ./rule/EMBY.yaml
    url: "https://raw.githubusercontent.com/aaouy123/copilot-/main/emby.yaml"
  TikTok:
    <<: *rule_classical
    format: yaml
    path: ./rule/TikTok.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml"
  AI:
    <<: *rule_classical
    format: yaml
    path: ./rule/AI.yaml
    url: "https://raw.githubusercontent.com/aaouy123/copilot-/refs/heads/main/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%A7%84%E5%88%99%E9%9B%86.yaml"
  De-advertising_rules:
    <<: *rule_domain
    format: text
    url: "https://gitlab.com/hagezi/mirror/-/raw/main/dns-blocklists/domains/light.txt"
    path: ./rule_providers/De-advertising_rules.yaml 
  Lan:
    <<: *rule_classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    path: ./rule/Lan.yaml
  site_category-httpdns:
    <<: *rule_domain
    format: mrs
    path: ./rule_providers/domain/category-httpdns
    url: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/httpdns.mrs"
  site_category-httpdns-cn:
    <<: *rule_domain
    format: mrs
    path: ./rule_providers/domain/category-httpdns-cn
    url: 'https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-httpdns-cn.mrs'
  site_virtual-location: 
    <<: *rule_domain
    format: mrs
    path: ./rule_providers/domain/virtual-location
    url: "https://raw.githubusercontent.com/aaouy123/copilot-/main/virtual-location.mrs"
              
rules:
  - AND,((PROCESS-NAME,mihomo),(NOT,((IN-TYPE,inner)))),REJECT
  - AND,((PROCESS-NAME,clash),(NOT,((IN-TYPE,inner)))),REJECT
  - DST-PORT,53,dns-out  
  - RULE-SET,Lan,DIRECT
  - OR,((GEOSITE,private),(GEOIP,private,no-resolve)),DIRECT
  - OR,((RULE-SET,site_category-httpdns),(RULE-SET,site_category-httpdns-cn),(DOMAIN-KEYWORD,httpdns)),REJECT-DROP
  - AND,((GEOSITE,googlefcm),(DST-PORT,5228-5230)),DIRECT 
  - RULE-SET,De-advertising_rules,ğŸ›‘ éšç§æ‹¦æˆª
  - AND,((NETWORK,udp),(DOMAIN-REGEX,(?i)stun|turn)),ğŸ“Ÿ WebRTC # æ˜¯å¦ç¦ç”¨ stun/turn åè®®çš„ udp æ•°æ®, ç¦ç”¨åå¯ä»¥æœ‰æ•ˆè§£å†³ webrtc çš„ ip æ³„éœ²
  - RULE-SET,Telegram,ğŸ“² Telegram
  - DOMAIN,api.iturrit.com,ğŸ“² Telegram
  - RULE-SET,AI,ğŸ¤– AI
  - RULE-SET,Youtube,ğŸ¦ YouTube
  - RULE-SET,Netflix,ğŸ¿ Netflix
  - RULE-SET,Discord,ğŸ® Discord
  - RULE-SET,site_virtual-location,ğŸ§­ Virtual Location # æŠ–éŸ³å¿«æ‰‹å°çº¢ä¹¦ä½ç½® å¯èƒ½æ— æ•ˆ
  - RULE-SET,BiliBili,ğŸ§‹ Bilibili
  - RULE-SET,EMBY,ğŸ¨ EMBY
  - RULE-SET,TikTok,ğŸ“¸ TikTok
  - GEOSITE,twitter,âœˆï¸ Twitter
  - GEOIP,twitter,âœˆï¸ Twitter
  - RULE-SET,Google,ğŸ“¢ Google
  - RULE-SET,Apple,ğŸ Apple
  - RULE-SET,Microsoft,â“‚ï¸ Microsoft
  - OR,((GEOSITE,gfw),(GEOSITE,geolocation-!cn)),ğŸ‹ æ¼ç½‘ä¹‹é±¼
  - GEOSITE,CN,DIRECT
  - GEOIP,CN,DIRECT,no-resolve
  - MATCH,ğŸ‹ æ¼ç½‘ä¹‹é±¼
